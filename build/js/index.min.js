import Card from"./Cards.min.js";import{MY_KEY}from"./config.min.js";$(document).ready((function(){let e=!1;const t=$(".news"),a=$(".sections"),l=$(".loader"),o="https://api.nytimes.com/svc/topstories/v2/",s=".json?api-key="+MY_KEY;function i(a){let i=a.target.value;l.toggle(),$.ajax({method:"GET",url:o+i+s}).done((function(a){l.toggle();let o=a;e||($("main").toggleClass("main-with-news"),$(".logo").toggleClass("logo-with-news"),$(".search-box").toggleClass("search-box-with-news"),$("select").toggleClass("select-with-news")),t.text(""),function(e,t){for(let a=0;a<12;a++){let l=e.results[a].abstract,o=e.results[a].url,s=e.results[a].multimedia.length;if(""!==l&&""!==o&&s>3){let s=e.results[a].multimedia[4].url;new Card(l,o,s).create(t)}}}(o,t),e=!0,$(".card").addClass("animate")})).fail((function(){l.toggle(),t.text(""),t.append('<li class="fail"><img class="warning-icon" src="../../assets/images/warning.svg" alt="warning-sign">Fail to load... Try again</li>')}))}[{value:"",text:"Sections..."},{value:"arts",text:"Arts"},{value:"automobiles",text:"Automobiles"},{value:"books",text:"Book"},{value:"business",text:"Business"},{value:"fashion",text:"Fashion"},{value:"food",text:"Food"},{value:"health",text:"Health"},{value:"home",text:"Home"},{value:"insider",text:"Insider"},{value:"magazine",text:"Magazine"},{value:"movies",text:"Movies"},{value:"national",text:"National"},{value:"nyregion",text:"NY Region"},{value:"obituaries",text:"Obituaries"},{value:"opinion",text:"Opinion"},{value:"politics",text:"Politics"},{value:"realestate",text:"Real State"},{value:"science",text:"Science"},{value:"sports",text:"Sports"},{value:"sundayreview",text:"Sunday Review"},{value:"technology",text:"Technology"},{value:"theater",text:"Theater"},{value:"tmagazine",text:"T Magazine"},{value:"travel",text:"Travel"},{value:"upshot",text:"Upshot"},{value:"world",text:"World"}].forEach(e=>{a.append('<option value="'+e.value+'">'+e.text+"</option>")}),a.on("change",i)}));